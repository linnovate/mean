# How to deploy MEAN on Heroku

 
First you need to visit https://heroku.com and create a free account. 
Then you need to install Heroku CLI (https://devcenter.heroku.com/articles/heroku-cli) according to your OS. All the instructions available there on how to install.
If you have't folk the official MEAN repo yet, folk the repo and then you need to clone it to your local machine.
Then navigate to 'MEAN' directory.
Use following command and then enter your username and password. (Now you are ready to go)
```
heroku login
```
Now open the MEAN application uing your favourite editor and edit following files.
Open `package.json` and edit `engines` section like this :

```
"engines": {
    "node": "6.11.3",
    "npm": "3.10.10"
  }
```

Otherwise Heroku will install the latest version of Node JS which is available right now and it's not suitable for MEAN.
And now you need to use what's the hosting method you are going to use for MongoDB. 
There are 2 options for this.
  * Using Heroku addons for MogoDB (https://elements.heroku.com/addons). You can use official mLab MongoDB addon (https://elements.heroku.com/addons/mongolab). If you are using this, you need to add your credit card information into Heroku.
  * Using https://mlab.com/ official site and create a free account and create free MongoDB instance. 
  
After choosing one of the above solutions, you have to update `server-start.js` like this : 

 
 ```
 process.env.MONGO_HOST='mongodb://username:password@ds135574.mlab.com:35574/new-mean'
 process.env.MONGO_PORT='35574'
 ```
 
Then make sure you are committing all the changes to your repo. And puch changes.
Make sure you replace `username` and `password` with your own credentials. And change the port too.
Then you need to use following command and it will make a new heroku application for you. And also specific heroku-git repository too.

```
heroku create
```

Finally you need to use following command and then all the changes you made is going to deployed in the heroku instance.

```
git push heroku master
```

If you have any errors, you can check `heroku logs` from the admin panel and also they will appear in the terminal too.

The application is now deployed. Ensure that at least one instance of the app is running:

```
heroku ps:scale web=1
```

Now visit the app at the URL generated by its app name. As a handy shortcut, you can open the website as follows:

```
heroku open
```
